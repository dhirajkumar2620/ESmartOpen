@model App_Layer.Precription
@{
    Layout = null;
}
<style>
    .table thead {
        background: #ffffff;
        color: #666;
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #ffffff !important;
    }

    .table tbody {
        background: #ffffff;
    }

    .table tr:hover {
        box-shadow: 2px 4px 10px #fff;
    }
    /*.table thead th {
        vertical-align: bottom;
        border-bottom: 1px solid #dedede!important;
    }
        .table td {
        border-top: 1px solid #dedede!important;
        vertical-align: middle!important;
    }*/
    .table th {
        padding-top: 15px;
    }

    .table {
        margin-bottom: 0rem;
    }

    .mg-table .table {
        border-bottom: 1px solid #d4d4d4;
    }

    .tbl-view-1 tr th:first-child {
        width: 20%;
    }

    .tbl-view-2 tr th:first-child {
        width: 20%;
    }

    .tbl-view-3 tr th:first-child {
        width: 20%;
    }

    .tbl-view-4 tr th:first-child {
        width: 20%;
    }

    .tbl-view-5 tr th:first-child {
        width: 20%;
    }

    .tbl-view-5 tr th:first-child {
        width: 20%;
    }
</style>
<div class="bs-example">
    <div class="accordion" id="accordionExample1">
        <div class="second-tab">
            <div class="card" id="divPrint">
                <div class="card-body mg-table">
                    <div id="printExamination" style="display:none">
                        <table style="margin: 0 auto;width: 80%;" id="Bill">
                            <tr>
                                <td>
                                    @if (@Session["Template"].ToString() == "Yes")
                                    {
                                        <table style="width: 100%; display: inline;">
                                            <tr>
                                                <td>
                                                    <ul style="list-style:none;padding-left: 0px;margin-bottom: .1rem;">
                                                        <li><b>@Model.HostClincName</b></li>
                                                        <li>@Model.HospClinicAddess</li>
                                                        <li>+91 @Model.HospClinicNumber</li>
                                                        <li>@Model.FirmInTime1 : @Model.FirmOutTime1 - @Model.FirmInTime2 : @Model.FirmOutTime2 </li>
                                                        <li>Clinic Holiday : @Model.Holiday</li>
                                                    </ul>
                                                </td>   

                                            </tr>
                                        </table>
                                        <table style="float: right;">
                                            <tr>
                                                <td>
                                                    <ul style="list-style:none;float:right;">
                                                        <li style="text-align: right;"><b>@Model.DoctorName</b></li>
                                                        <li style="text-align: right;">@Model.Degree</li>
                                                        <li style="text-align: right;">Reg. No. @Model.RegNumber</li>
                                                        <li style="text-align: right;">@Model.Speciality</li>
                                                    </ul>
                                                </td>
                                            </tr>
                                        </table>
                                    }
                                    else
                                    {
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                    }
                                    <table style="width: 100%;border:1px solid #cccccc;padding: .5em .5em;border-radius: 9px;">
                                        <tr>
                                            <td style="padding-left: 5px;">
                                                Patient Details : <b>@Model.PatientName</b>
                                            </td>
                                            <td style="text-align: right;width: 35%;">
                                                CP No. : @Model.CasePapaerNo
                                            </td>
                                            <td style="text-align: right;padding-right: 5px;">
                                                Visit Date : @Model.InvoiceDate
                                            </td>
                                        </tr>
                                    </table>

                                    @if (@Session["VitalInformation"].ToString() == "Yes")
                                    {
                                        <br>
                                        <table style="width: 100%;">
                                            @if (Model.vlist.Count > 0)
                                            {
                                                foreach (var item in Model.vlist)
                                                {
                                                    <tr>

                                                        @if (@item.BloodPressure != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">BP(mmHg) </span><br />@item.BloodPressure</td>
                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">BP(mmHg) </span><br />-</td>
                                                        }

                                                        @if (@item.Temperature != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Temp(&#8457;/℃)</span><br />@item.Temperature</td>
                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Temp(&#8457;/℃) </span><br />-</td>
                                                        }

                                                        @if (@item.Weight != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Wt.(Kg) </span><br />@item.Weight</td>
                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Wt.(Kg) </span><br />-</td>
                                                        }

                                                        @if (@item.Height != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Ht.(cm)  </span><br />@item.Height</td>

                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Ht.(cm)  </span><br />-</td>

                                                        }

                                                        @if (@item.BloodGlucoseFasting != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">PPBG(mg/dL) </span><br />@item.BloodGlucoseFasting</td>

                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">PPBG(mg/dL) </span><br />-</td>

                                                        }
                                                        @if (@item.BloodlucoseRandom != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">FBG(mg/dL)</span><br />@item.BloodlucoseRandom</td>

                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">FBG(mg/dL)</span><br />-</td>

                                                        }
                                                        @if (@item.BloodGlucosePostPrandial != null)
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">RBG(mg/dL)</span><br />@item.BloodGlucosePostPrandial</td>

                                                        }
                                                        else
                                                        {
                                                            <td style="border-right: 1px solid #000;border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">RBG(mg/dL)</span><br />-</td>

                                                        }
                                                        @if (@item.Pulse != null)
                                                        {
                                                            <td style="border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Pulse(/min)</span><br />@item.Pulse</td>
                                                        }
                                                        else
                                                        {
                                                            <td style="border-width: 1px;height: 63px;position: relative;width: 12.5%;text-align: center;"><span style="position: relative;top: -19px;font-size: 12px;">Pulse(/min)</span><br />-</td>

                                                        }
                                                    </tr>
                                                }
                                            }
                                        </table>
                                    }
                                    @*<hr>*@
                                    <table style="width: 100%;padding: 0px 18px;">

                                        <tr>
                                            <ul style="list-style: none;padding-left: 5px;">
                                                @if (@Session["Complaints"].ToString() == "Yes")
                                                {
                                                    
                                                    <li>
                                                        Complaints :<input type="text" value="&nbsp;&nbsp;&nbsp;&nbsp;@Model.Complaints" style="border: none;border-bottom: 1px solid #c3c3c3;width: 85%;"><br>
                                                    </li>
                                                }

                                                @if (@Session["Diagnosis"].ToString() == "Yes")
                                                {
                                                    <br>
                                                    <li>
                                                        Diagnosis :<input type="text" value="&nbsp;&nbsp;&nbsp;&nbsp;@Model.Diagnosis" style="border: none;border-bottom: 1px solid #c3c3c3;width: 85%;"><br>
                                                    </li>
                                                }
                                            </ul>
                                        </tr>


                                    </table>

                                    @if (@Session["Medication"].ToString() == "Yes")
                                    {    <br>
                                        <table style="width: 100%;">
                                            <tr>
                                                <td>
                                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAhCAYAAABeD2IVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASMSURBVFhH7VdLT1tHFO5PavAbGwdjoE2LBEQ0NiYsILHVCCFQWxYgQdsNUttl2w1SSYuXSAipBioEpa0Q0DqxE7OBUl4JmBhY8Kxt/Did78hjmRubXCdGaqWO/GnuvXPumc/fOXNm7lvpdJr+bfiflFr8d0mhoU+lUpROiXvxS14k+DqVEM8yY2jJZDL7HtvnuX4VriQFR9IZN5ARk6JPJzMEBdBL+9z3AdhLorn+rkJBUmhKJ3Aei8UoHo1RIn5BKUEs9neUEY/HKZFIMKLRKPf8BzJ+cn3I60JQnVNwtr29Te3t7eRyNjOcdxzU0uwiV7O4d7nI4XBQs7hua2uj3t5e8nq9tLq6ekkppd98UE0KDre2tqi+vp40N8pIr9WRQacnnUZL5aZyMplMZDAYGFqtlnQ6HZnNZia5uLjIyimVL4RX5lTuPf7x0tISVVXamBRgFoS8I16anp5mZbq7u8lqtTIpAARbW1vp8PCQLi5EyN+UVD7s7e1Rjb2aFYJSldab9CQYzKpwdnZGY2NjrBwI6fV6Vm90dJTHS5pTEiAFpYx6EaYyDVktFRQMBHgyAO38/JyampqYkEajYcX6+/tVqQQUTWpnZ4dsghRUAqqr7EwKDeMIEcg1NDRkQwgMDg7y82sJ3+7uLtXW1HL4kFMVZgs9DT7hMRmamZmZbPhACOGbm5vjsWshFQ6HyW6rYlIIH/JrbvZnDuv+/j4NDQ2RxWJhIpJQZ2cnHR0dXZ9SYaGUTHRZFioECZvNxuogj/TiGVTC/YMPH1DoaYjJXFtOhXd2s0oBZW/f4BAajUYmos08d9+7T1MTkxR5EaGE2CcjkQjnWz6fSrxWoiO5sfqgFFYi6tTAwAAXS6MIF563ttylv/5cExt2kn775VdyOp3k8/lUESuaFHIHSiGfoAjqVOBxgI6Pj3nZc+jEmMlgpE8++pj8v/9Bd10trGJPTw+dnJzk9ZuLoklh9UEpqIGJQSoYCPLYxsYG3W68zSoi17Ad3XrnXbatq6sjv9+fXaFXoficEquvtrqG1cCktpuVQqnH2UT+4eH3VG4UCS+ISHLoR0ZG3nz1yZdzneAaStkzSiF8CKWs6LDZ3Ngkxwd3mDQIwQZVf21trTQlAQ7QpCO09fX1bEkAoNQj/yMeYxvx++qLL5k0iEE1KOp2u2lzc/OS/0IoitTKygp1dXXxRJIU8srj9tDy8jLbPH/2nO633+MxEAM4vwTBxsZGGh4evjRHPqgiJa+xVWDZY0JZEvhsJSbF1oIT57dff8MkoOb7t95j0rDHxozq3tHR8dI8ShQkhaZU6uDggGZnZ2niRx/9NDlFk74JmhI9iiTq1/z8PFXb7XzGevjdMD3b2mY7ADVqfHycQqHQS3MpcaVSSoAckpU/FsT5HPmD4oizOhYAjsrlYmv5/NPPKB6LZz8sADWlQKIoUoUAsn19fbwBezweOj09zWunFiUhBSB8ODMtLCzwvQz566BkSqHHiROfWmjyQ0FpqwYlU0oSkAUSTWmjFiUjJY/BkhCUymenBiUNn4Tac1N+pOkfScsQNF0pJh4AAAAASUVORK5CYII=" alt="" />
                                                </td>
                                                <td>
                                                    Dose
                                                </td>
                                                <td>
                                                    Frequency
                                                </td>
                                                <td>
                                                    Duration
                                                </td>
                                                <td>
                                                    Quantity
                                                </td>
                                            </tr>
                                            @{ int index = 1; }
                                            @foreach (var item in Model.mlist)
                                            {
                                                <tr style="font-weight: 700;">

                                                    <td>
                                                        @index ]  @item.MedicineName
                                                    </td>
                                                    <td>
                                                        @item.Dose, @item.RepeatMedicine
                                                    </td>
                                                    <td>
                                                        @item.WhenMedicine, @item.SpecialInstruction
                                                    </td>
                                                    <td>
                                                        @item.ForMedicine @item.MedicineDays
                                                    </td>
                                                    <td>
                                                        @item.AlternateMedicine Nos.
                                                    </td>
                                                </tr>
                                                index++;
                                            }
                                        </table>

                                                }
                                    <br>

                                    <table style="width: 100%;">

                                        <tr>
                                            <td>
                                                <ul style="list-style: none;padding-left: 5px;">
                                                    @if (@Session["Advice"].ToString() == "Yes")
                                                    {
                                                        <br>
                                                        <li>Advice Note : <b>@Model.AdviceNote</b> </li>
                                                    }

                                                    @if (@Session["Test"].ToString() == "Yes")
                                                    {
                                                        <br>
                                                        <li>Test before next visit : <b>@Model.TestBeforeVisit</b></li>

                                                    }



                                                    @if (@Session["NextVisit"].ToString() == "Yes")

                                                    {
                                                        <br>
                                                        <li>Next visit : <b>@Model.NextVisit</b></li>
                                                    }
                                                </ul>
                                            </td>
                                        </tr>

                                    </table>
                                    <table style="float: right;padding-right: 8px;">
                                        <tr>
                                            <td style="padding-right: 30px;">
                                                <ul style="list-style: none;">
                                                    <li><small></small></li>
                                                    <br>
                                                    <li><b>@Model.DoctorName</b></li>
                                                </ul>
                                            </td>
                                        </tr>
                                    </table>
                                    <br />
                                    <br />
                                        <table style="width:100%;border-top: 1px solid #808080;">
                                            <tr>
                                                <td>
                                                    DO NOT REFILL MORE THAN ONCE
                                                </td>
                                                <td style="float: right;">
                                                    <small style="font-size: 8px;">Download <b>Meet My Doctor</b> App from Playstore Powered by TECHBULB</small>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                   
                                                </td>
                                                <td style="float: right;padding-top:-3em">
                                                    <small style="font-size: 8px;">To view your visit record & book your appointment with doctor. </small>
                                                </td>
                                            </tr>
                                        </table>
                                   
                                     
                                    

                                </td>
                            </tr>

                        </table>
                    </div>
                    <br />
                   
                    <input type='button' id='btn' value='Print' class="btn btn_1 btn-primary pull-right" onclick="PrintDiv()">
                    <br /><br /><br /><br /><br /><br /><br />
                </div>
                <br />
            </div>
        </div>
    </div>
</div>

@*
    <script src="~/vendor/jquery/jquery.min.js"></script>*@
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="~/js/front.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>
    ////function PrintDiv() {
    ////    alert("dsfds");
    ////    //$('#printExamination').html(response);
    ////    var Bill = document.getElementById("printExamination").innerHTML;
    ////    var printWindow = window.open('', '', 'height=500,width=900');
    ////    printWindow.document.write('<html><head><title>DIV Contents</title>');
    ////    printWindow.document.write('</head><body>');
    ////    printWindow.document.write(Bill);
    ////    printWindow.document.write('</body></html>');
    ////    printWindow.document.close();
    ////    printWindow.print();



    ////////Get the HTML of div
    //////var divElements = document.getElementById("printExamination").innerHTML;
    ////////Get the HTML of whole page
    //////var oldPage = document.body.innerHTML;
    ////////Reset the page's HTML with div's HTML only
    //////document.body.innerHTML =
    //////    "<html><head><title></title></head><body>" +
    //////    divElements + "</body>";

    ////////Print Page
    //////window.print();

    ////////Restore orignal HTML
    //////document.body.innerHTML = oldPage;


    /// }
</script>
<script>

    // function ShowPrint() {
    //PrintDiv1();
    //    $.ajax({
    //        type: "POST",
    //        url: "/MyOPD/PrintExaminatonDetails",
    //        contentType: "application/json; charset=utf-8",
    //        dataType: "html",
    //        success: function (response) {
    //            $('#Bill').html(response);
    //            PrintDiv1();
    //            //$('#ComfirmationPopup').modal('show');
    //        },
    //        failure: function (response) {
    //            alert(response.responseText);
    //        },
    //        error: function (response) {
    //            alert(response.responseText);
    //        }
    //    });
    //}
    //function PrintDiv1() {
    //    var Bill = document.getElementById("Bill").innerHTML;
    //    var printWindow = window.open('', '', 'height=500,width=900');
    //    printWindow.document.write('<html><head><title>DIV Contents</title>');
    //    printWindow.document.write('</head><body>');
    //    printWindow.document.write(Bill);
    //    printWindow.document.write('</body></html>');
    //    printWindow.document.close();
    //    printWindow.print();
    //}
</script>

<script src="~/js/front.js"></script>
<script>
    //$(".nav-tabs li").removeClass("active"); btnInvestigation
    $("#btnObservation").on('click', function () {
        var url = $(this).data('request-url');

        $("#tabObservation").load(url);
    });
    $("#btnMedication").on('click', function () {
        var url = $(this).data('request-url');

        $("#tabMedication").load(url);
    });
    $("#btnCommon").on('click', function () {
        var url = $(this).data('request-url');

        $("#tabCommon").load(url);
    });
</script>
<script>

    //$('.opd-table .add-row').click(function () {
    //    $('.opd-table .table').append('<tr><td contenteditable="true">001</td><td contenteditable="true">Fever</td><td contenteditable="true">2 Week</td><td><ul class="list-inline"><li class="list-inline-item" title="Edit"><i class="fa fa-times"  onclick="SomeDeleteRowFunction(this);" aria-hidden="true"></i></li></ul></td></tr>');
    //});


    $('.opd-table1 .add-row-billing').click(function () {
        $('.opd-table1 .table').append('<tr><td>1</td><td contenteditable="true">Fever</td><td contenteditable="true">1000</td><td contenteditable="true">Paid</td><td contenteditable="true">0</td><td><ul class="list-inline"><li class="list-inline-item" title="Edit"><i class="fa fa-times add-row-billing" onclick="SomeDeleteRowFunction(this);" aria-hidden="true"></i></li></ul></td></tr>');
    });

    function SomeDeleteRowFunction(btndel) {
        if (typeof (btndel) == "object") {
            $(btndel).closest("tr").remove();
        } else {
            return false;
        }
    }

    function SomeDeleteRowFunction1(btndel) {
        if (typeof (btndel) == "object") {
            $(btndel).closest("tr").remove();
        } else {
            return false;
        }
    }

    $('#r1').click(function () {
        $('.refe-letr').css("display", "block");
        $('.fitn-cert').css("display", "none");
        $('.medicl-cert').css("display", "none");
    });
    $('#r2').click(function () {
        $('.refe-letr').css("display", "none");
        $('.fitn-cert').css("display", "block");
        $('.medicl-cert').css("display", "none");
    });
    $('#r3').click(function () {
        $('.refe-letr').css("display", "none");
        $('.fitn-cert').css("display", "none");
        $('.medicl-cert').css("display", "block");
    });


    $('.tbl-1').click(function () {
        $('.tbl-view-1').slideToggle();
    });
    $('.tbl-2').click(function () {
        $('.tbl-view-2').slideToggle();
    });
    $('.tbl-3').click(function () {
        $('.tbl-view-3').slideToggle();
    });
    $('.tbl-4').click(function () {
        $('.tbl-view-4').slideToggle();
    });
    $('.tbl-5').click(function () {
        $('.tbl-view-5').slideToggle();
    });
    $('.tbl-6').click(function () {
        $('.tbl-view-6').slideToggle();
    });
    $('.tbl-7').click(function () {
        $('.tbl-view-7').slideToggle();
    });
</script>
<script>
    function PrintDiv() {
        //Get the HTML of div
        var Bill = document.getElementById("printExamination").innerHTML;
        var printWindow = window.open('', '', 'height=500,width=900');
        printWindow.document.write('<html><head><title>DIV Contents</title>');
        printWindow.document.write('</head><body>');
        printWindow.document.write(Bill);
        printWindow.document.write('</body></html>');
        printWindow.document.close();
        printWindow.print();


    }
</script>
